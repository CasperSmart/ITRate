{"version":3,"sources":["C:/ItRate/ITRate/ITRate/src/app/auth/auth-routing.module.ts","C:/ItRate/ITRate/ITRate/src/app/auth/auth.guard.ts","C:/ItRate/ITRate/ITRate/src/app/auth/auth.module.ts","C:/ItRate/ITRate/ITRate/src/app/auth/login/login.component.css","C:/ItRate/ITRate/ITRate/src/app/auth/login/login.component.html","C:/ItRate/ITRate/ITRate/src/app/auth/login/login.component.ts","C:/ItRate/ITRate/ITRate/src/app/auth/register/register.component.css","C:/ItRate/ITRate/ITRate/src/app/auth/register/register.component.html","C:/ItRate/ITRate/ITRate/src/app/auth/register/register.component.ts","C:/ItRate/ITRate/ITRate/src/app/auth/user-form.ts","C:/ItRate/ITRate/ITRate/src/app/auth/user-panel/user-panel.component.css","C:/ItRate/ITRate/ITRate/src/app/auth/user-panel/user-panel.component.html","C:/ItRate/ITRate/ITRate/src/app/auth/user-panel/user-panel.component.ts"],"names":[],"mappings":"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","file":"auth.module.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {LoginComponent} from './login/login.component';\r\nimport {RegisterComponent} from './register/register.component';\r\nimport {UserPanelComponent} from './user-panel/user-panel.component';\r\nimport {AuthGuard} from './auth.guard';\r\n\r\nconst routes: Routes = [\r\n  { path: '', redirectTo: 'login' },\r\n  { path: 'login', component: LoginComponent },\r\n  { path: 'register', component: RegisterComponent },\r\n  { path: 'user-panel',\r\n    component: UserPanelComponent,\r\n    canActivate: [AuthGuard]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AuthRoutingModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// C:/ItRate/ITRate/ITRate/src/app/auth/auth-routing.module.ts","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport {AuthService} from './auth.service';\r\n\r\n@Injectable()\r\nexport class AuthGuard implements CanActivate {\r\n  constructor(private authService: AuthService) {}\r\n  canActivate(\r\n    next: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\r\n    return this.authService.isLoggedIn();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/ItRate/ITRate/ITRate/src/app/auth/auth.guard.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { RegisterComponent } from './register/register.component';\r\nimport { UserPanelComponent } from './user-panel/user-panel.component';\r\nimport { AuthRoutingModule} from '../auth/auth-routing.module';\r\nimport {AuthService} from '../auth/auth.service';\r\nimport {AuthGuard} from '../auth/auth.guard';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    SharedModule,\r\n    AuthRoutingModule\r\n  ],\r\n  declarations: [LoginComponent, RegisterComponent, UserPanelComponent],\r\n  providers: [AuthService, AuthGuard]\r\n})\r\nexport class AuthModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// C:/ItRate/ITRate/ITRate/src/app/auth/auth.module.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/ItRate/ITRate/ITRate/src/app/auth/login/login.component.css\n// module id = ../../../../../src/app/auth/login/login.component.css\n// module chunks = auth.module","module.exports = \"<form #customer=\\\"ngForm\\\" novalidate>\\r\\n  <div class=\\\"form-group\\\">\\r\\n    <label>Email</label>\\r\\n    <input class=\\\"form-control\\\"\\r\\n           [(ngModel)]=\\\"user.email\\\"\\r\\n           type=\\\"email\\\" name=\\\"email\\\"\\r\\n           #email=\\\"ngModel\\\" required/>\\r\\n    <div [hidden]=\\\"email?.valid || email?.untouched\\\" class=\\\"alert alert-danger\\\">\\r\\n      Incorrect email\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"form-group\\\">\\r\\n    <label>Password</label>\\r\\n    <input class=\\\"form-control\\\"\\r\\n           [(ngModel)]=\\\"user.password\\\"\\r\\n           type=\\\"password\\\" name=\\\"password\\\"\\r\\n           #password=\\\"ngModel\\\" required/>\\r\\n    <div [hidden]=\\\"password?.valid || password?.untouched\\\" class=\\\"alert alert-danger\\\">\\r\\n      Type your password\\r\\n    </div>\\r\\n  </div>\\r\\n  <br>\\r\\n  <button class=\\\"btn btn-success\\\"  (click)=\\\"login()\\\" [disabled]=\\\"!user.email || !user.password\\\">\\r\\n    Login\\r\\n  </button>\\r\\n</form>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/ItRate/ITRate/ITRate/src/app/auth/login/login.component.html\n// module id = ../../../../../src/app/auth/login/login.component.html\n// module chunks = auth.module","import { Component, OnInit } from '@angular/core';\r\nimport {AuthService} from '../auth.service';\r\nimport {UserForm} from '../user-form';\r\nimport {ActivatedRoute, Router} from \"@angular/router\";\r\nimport {DataService} from \"../../services/data.service\";\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  user: UserForm = new UserForm();\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private data: DataService,\r\n    public authService: AuthService) {}\r\n\r\n  ngOnInit() {\r\n    if (this.authService.isLoggedIn()) {\r\n      this.router.navigate(['../user-panel'], {\r\n        relativeTo: this.route\r\n      });\r\n    }\r\n  }\r\n  login() {\r\n    this.data.toggleLoading(true);\r\n    this.authService.login(this.user.email, this.user.password)\r\n      .then(value => {\r\n        this.data.toggleLoading(false);\r\n        localStorage.setItem('user', value.uid);\r\n        this.router.navigate(['../user-panel'], {\r\n          relativeTo: this.route\r\n        });\r\n         window.location.reload();\r\n      })\r\n      .catch(err => {\r\n        this.data.toggleLoading(false);\r\n        alert(err.message);\r\n      });\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/ItRate/ITRate/ITRate/src/app/auth/login/login.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/ItRate/ITRate/ITRate/src/app/auth/register/register.component.css\n// module id = ../../../../../src/app/auth/register/register.component.css\n// module chunks = auth.module","module.exports = \"<form [formGroup]=\\\"userForm\\\" (submit)=\\\"signup()\\\" novalidate>\\r\\n  <div class=\\\"form-group\\\">\\r\\n    <label>Email</label>\\r\\n    <input class=\\\"form-control\\\"\\r\\n           formControlName=\\\"email\\\"\\r\\n           type=\\\"email\\\">\\r\\n    <div [hidden]=\\\"userForm.get('email')?.valid || userForm.get('email')?.untouched\\\"\\r\\n         class=\\\"alert alert-danger\\\">\\r\\n      Incorrect email\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"form-group\\\">\\r\\n    <label>Password</label>\\r\\n    <input class=\\\"form-control\\\"\\r\\n           formControlName=\\\"password\\\"\\r\\n           type=\\\"password\\\"/>\\r\\n    <div [hidden]=\\\"userForm.get('password')?.valid || userForm.get('password')?.untouched\\\"\\r\\n         class=\\\"alert alert-danger\\\">\\r\\n      Type your password\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"form-group\\\">\\r\\n    <label>Repeat password</label>\\r\\n    <input class=\\\"form-control\\\"\\r\\n           formControlName=\\\"passwordRepeat\\\"\\r\\n           type=\\\"password\\\"/>\\r\\n    <div [hidden]=\\\"userForm.get('passwordRepeat')?.valid || userForm.get('passwordRepeat')?.untouched\\\"\\r\\n         class=\\\"alert alert-danger\\\">\\r\\n      Type your password again\\r\\n    </div>\\r\\n    <div [hidden]=\\\"userForm.get('passwordRepeat')?.valid\\r\\n     || userForm.get('passwordRepeat')?.untouched\\r\\n     || !userForm.get('passwordRepeat')?.errors?.notEquivalent\\\"\\r\\n         class=\\\"alert alert-danger\\\">\\r\\n      NOT EQUALs\\r\\n    </div>\\r\\n  </div>\\r\\n  <button class=\\\"btn btn-success\\\" [disabled]=\\\"!userForm.valid\\\">\\r\\n    Register\\r\\n  </button>\\r\\n</form>\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/ItRate/ITRate/ITRate/src/app/auth/register/register.component.html\n// module id = ../../../../../src/app/auth/register/register.component.html\n// module chunks = auth.module","import { Component, OnInit } from '@angular/core';\r\nimport {AuthService} from '../auth.service';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {DataService} from '../../services/data.service';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css']\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n  userForm: FormGroup;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private data: DataService,\r\n    public authService: AuthService) {}\r\n\r\n  ngOnInit() {\r\n    this.initForm();\r\n  }\r\n\r\n  matchingPasswords(passwordKey: string, passwordConfirmationKey: string) {\r\n    return (group: FormGroup) => {\r\n      const passwordInput = group.controls[passwordKey];\r\n      const passwordConfirmationInput = group.controls[passwordConfirmationKey];\r\n      if (passwordInput.value !== passwordConfirmationInput.value) {\r\n        return passwordConfirmationInput.setErrors({notEquivalent: true});\r\n      }\r\n    };\r\n  }\r\n\r\n  initForm() {\r\n    const minPassLength = 6;\r\n    this.userForm = this.fb.group( {\r\n      email: ['', Validators.compose([\r\n        Validators.email,\r\n        Validators.required\r\n      ])],\r\n      password: ['', Validators.compose([\r\n        Validators.required,\r\n        Validators.minLength(minPassLength)\r\n      ])],\r\n      passwordRepeat: ['', Validators.compose([\r\n        Validators.required,\r\n        Validators.minLength(minPassLength)\r\n      ])]\r\n    },{\r\n      validator: this.matchingPasswords('password', 'passwordRepeat')\r\n    });\r\n    console.log(this.userForm);\r\n  }\r\n\r\n  signup() {\r\n    if (this.userForm.valid) {\r\n      this.data.toggleLoading(true);\r\n      this.authService.signup(\r\n        this.userForm.get('email').value,\r\n        this.userForm.get('password').value)\r\n        .then(value => {\r\n          localStorage.setItem('user', value.uid);\r\n          this.data.toggleLoading(false);\r\n\r\n          this.data.postRater(this.userForm.get('email').value).subscribe(x=>{\r\n            window.location.reload();\r\n            this.router.navigate(['../user-panel'], {\r\n            relativeTo: this.route\r\n            });\r\n          });\r\n\r\n          \r\n        })\r\n        .catch(err => {\r\n          this.data.toggleLoading(false);\r\n          alert(err.message);\r\n        });\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/ItRate/ITRate/ITRate/src/app/auth/register/register.component.ts","export class UserForm {\r\n  email: string;\r\n  password: string;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/ItRate/ITRate/ITRate/src/app/auth/user-form.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/ItRate/ITRate/ITRate/src/app/auth/user-panel/user-panel.component.css\n// module id = ../../../../../src/app/auth/user-panel/user-panel.component.css\n// module chunks = auth.module","module.exports = \"<h1>Welcome {{ (authService.user | async)?.email }}!</h1>\\r\\n<ul>\\r\\n  <li *ngFor=\\\"let city of list$ | async\\\">{{city.id}} - {{city.name}}</li>\\r\\n</ul>\\r\\n<button (click)=\\\"logout()\\\" *ngIf=\\\"authService.user | async\\\">\\r\\n  Logout\\r\\n</button>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/ItRate/ITRate/ITRate/src/app/auth/user-panel/user-panel.component.html\n// module id = ../../../../../src/app/auth/user-panel/user-panel.component.html\n// module chunks = auth.module","import { Component, OnInit } from '@angular/core';\r\nimport {AngularFireDatabase, FirebaseListObservable} from 'angularfire2/database';\r\nimport {Observable} from 'rxjs/Observable';\r\nimport {AuthService} from '../auth.service';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-user-panel',\r\n  templateUrl: './user-panel.component.html',\r\n  styleUrls: ['./user-panel.component.css']\r\n})\r\nexport class UserPanelComponent implements OnInit {\r\n  list$: FirebaseListObservable <any []>;\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private db: AngularFireDatabase,\r\n    public authService: AuthService) {}\r\n  ngOnInit() {\r\n    this.list$ = this.db.list('cities');\r\n  }\r\n  logout() {\r\n    localStorage.removeItem('user');\r\n    this.router.navigate(['../login'], {\r\n      relativeTo: this.route\r\n    });\r\n    this.authService.logout();\r\n    window.location.reload();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/ItRate/ITRate/ITRate/src/app/auth/user-panel/user-panel.component.ts"],"sourceRoot":"webpack:///"}